<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Tiler Profile | TILERSHUB</title>

  <!-- Shared site styles -->
  <link rel="stylesheet" href="/css/layout.css">
  <!-- Page-specific styles -->
  <link rel="stylesheet" href="/css/tiler.css">
</head>
<body class="with-sticky-padding">

  <!-- Injected header -->
  <div id="header"></div>

  <div class="cover" id="coverImage" role="img" aria-label="Cover image"></div>

  <div class="profile-info">
    <div class="profile-pic" id="profilePic" aria-label="Tiler profile picture"></div>
    <h2 id="tilerName">Loading...</h2>
    <p id="tilerCity">City</p>
    <div class="stars" id="ratingStars" aria-label="Average star rating" aria-live="polite">★★★★★</div>
    <div class="bio" id="bioText">Loading bio...</div>
    <div id="highlightTags" aria-label="Highlights"></div>
  </div>

  <!-- Contact / Share buttons (sticky on phones) -->
  <div id="ctaBar" class="action-row action-row--sticky" role="group" aria-label="Contact actions">
    <a id="btnWhatsApp" class="btn btn-wa" target="_blank" rel="noopener" aria-label="Contact on WhatsApp">
      <svg viewBox="0 0 32 32" aria-hidden="true" class="ico"><path d="M19.1 17.6c-.3-.2-1.7-.8-1.9-.9-.3-.1-.5-.2-.7.2s-.8.9-1 .9-.5 0-1-.4c-.5-.3-1-1-1.2-1.2s-.2-.5 0-.7c.2-.2.3-.5.5-.7.2-.2.2-.4.3-.6 0-.2 0-.5-.1-.7s-.7-1.8-1-2.4c-.3-.6-.6-.5-.8-.5h-.7c-.2 0-.7.1-1 .5-.3.3-1.3 1.3-1.3 3.1s1.4 3.6 1.6 3.9c.2.2 2.7 4.1 6.6 5.6 3.9 1.5 3.9 1 4.6 1s2.2-.8 2.5-1.7c.3-.8.3-1.6.2-1.7-.1-.2-.3-.2-.7-.4z"/><path d="M27 5a13 13 0 1 0-4 22l3.4 1-1-3.3A13 13 0 0 0 27 5zm-10 22A10 10 0 1 1 27 17a10 10 0 0 1-10 10z"/></svg>
      <span>WhatsApp</span>
    </a>
    <a id="btnFacebook" class="btn btn-fb" target="_blank" rel="noopener" aria-label="Open Facebook or share">
      <svg viewBox="0 0 32 32" aria-hidden="true" class="ico"><path d="M19 6h3V2h-3c-3.3 0-6 2.7-6 6v3H9v4h4v15h4V15h3.3l.7-4H17V8c0-1.1.9-2 2-2z"/></svg>
      <span>Facebook</span>
    </a>
  </div>

  <div class="container">

    <!-- ===== Evaluation Card (auto-hides if no data) ===== -->
    <div class="card" id="evaluationCard" style="display:none" aria-live="polite">
      <h3>TILERSHUB Evaluation</h3>
      <div id="evalHeader" class="eval-header">
        <span id="evalLevel" class="pill">—</span>
        <small id="evalMeta" class="muted">—</small>
      </div>

      <div id="evalOverall" class="overall-score">Overall: —</div>

      <div id="evalBars" class="eval-grid" role="list"></div>

      <div id="evalChecks" class="eval-checks"></div>

      <div id="evalNotes" class="eval-notes" style="display:none">
        <label class="muted">Evaluator Notes</label>
        <div class="notes-body"></div>
      </div>
    </div>

    <div class="card">
      <h3>Review Summary</h3>
      <div class="rating-grid" id="summaryGrid">
        <div>Quality of Work: —</div><div>Customer Service: —</div>
        <div>Timeliness: —</div><div>Pricing Fairness: —</div>
        <div>Cleanliness: —</div><div><strong>No reviews yet</strong></div>
      </div>
    </div>

    <div class="card" id="reviewList" aria-live="polite">
      <h3>Customer Reviews</h3>
      <!-- reviews injected here -->
    </div>

    <div class="card" aria-labelledby="leaveReviewTitle">
      <h3 id="leaveReviewTitle">Leave a Review</h3>
      <!-- Honeypot -->
      <input id="website" class="hidden" type="text" autocomplete="off" tabindex="-1" aria-hidden="true"/>

      <label for="name">Your name</label>
      <input type="text" id="name" placeholder="Your name" autocomplete="name" autocapitalize="words" inputmode="text"/>

      <label for="phone">Phone (optional)</label>
      <input type="tel" id="phone" placeholder="07XXXXXXXX" autocomplete="tel" inputmode="tel" pattern="[0-9+\-\s]{6,}"/>

      <label for="email">Email (optional)</label>
      <input type="email" id="email" placeholder="you@example.com" autocomplete="email" inputmode="email"/>

      <label for="quality">Quality of Work</label>
      <select id="quality">
        <option value="5">5 - Excellent</option><option value="4">4 - Good</option>
        <option value="3">3 - Average</option><option value="2">2 - Poor</option>
        <option value="1">1 - Very Poor</option>
      </select>

      <label for="service">Customer Service</label>
      <select id="service">
        <option value="5">5 - Excellent</option><option value="4">4 - Good</option>
        <option value="3">3 - Average</option><option value="2">2 - Poor</option>
        <option value="1">1 - Very Poor</option>
      </select>

      <label for="timeline">Timeline</label>
      <select id="timeline">
        <option value="5">5 - On time</option><option value="4">4 - Slight delay</option>
        <option value="3">3 - Delayed</option><option value="2">2 - Late</option>
        <option value="1">1 - Very late</option>
      </select>

      <label for="pricing">Pricing Fairness</label>
      <select id="pricing">
        <option value="5">5 - Very fair</option><option value="4">4 - Fair</option>
        <option value="3">3 - Average</option><option value="2">2 - Pricey</option>
        <option value="1">1 - Overpriced</option>
      </select>

      <label for="cleanliness">Cleanliness</label>
      <select id="cleanliness">
        <option value="5">5 - Excellent</option><option value="4">4 - Good</option>
        <option value="3">3 - Average</option><option value="2">2 - Poor</option>
        <option value="1">1 - Very Poor</option>
      </select>

      <label for="comment">Feedback (optional)</label>
      <textarea id="comment" rows="3" placeholder="What did you like, or what can be improved?"></textarea>

      <button id="submitBtn" onclick="submitReview()">Submit Review</button>
      <p class="muted">By submitting you agree to our <a class="link" href="/privacy">Privacy Policy</a>.</p>
    </div>
  </div>

  <!-- Injected footer -->
  <div id="footer"></div>

  <!-- Inject header & footer -->
  <script src="/js/include.js" defer></script>
  <!-- Supabase client -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>
  <!-- Page-specific JS -->
  <script src="/js/tiler.js" defer></script>
</body>
</html>